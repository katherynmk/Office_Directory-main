<!-- put space for a name at the top (ima try to get name from database) -->
<!-- for right now, just put name -->

<!--create a field for -->

<!--name -->
<!--hours -->
<!--room number -->
<!--email -->
<!--phone number-->


<!--then at the bottom create a button that will later do something -->
<!--call it "update my information" -->

<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
  


  </head>
  <div class=""list-container">
    <% professors.forEach(p => { %>
        <div>


       


  <body onload ="getinfo()" class = "container">
    <h1 class = "title">  </h1>
      <div class = "box">
        <!-- get name from database -->
        <p>
          <span class=""item-label">Name:</span>
          <%= p.name %>
      </p>
        <input id =editHours> 
        
        <!-- get hours from database -->

        <!-- prof would enter in the changed hours -->
        <p>
            <span class=""item-label">hours:</span>
            <%= p.hours %>
        </p>
        <input id =editHours> 
       
        <p>
            <span class=""item-label">Room:</span>
            <%= p.roomnumber %>
        </p>
        <input id =editRoom> 
        
        <p id =emailFromDatabase>Email: </p>
        <p>
          <span class=""item-label">Email:</span>
          <%= p.email %>
      </p>
        <input id =editEmail> 
        
        <p>
            <span class=""item-label">Phone number:</span>
            <%= p.roomnumber %>
        </p>
        <input id =editPhone> 
        <button  class ="button" autofocus onclick="updateInfo()">update my information</button>
        
      </div>
<!-- add confirm value box to show info was updated-->
      <% }); %>

      
    </div>
  </div>




<script>
function updateInfo(){
    //insert function to update profs info
    const name = document.getElementById("editName").value;
		const phone = document.getElementById("editPhone").value;
    const hours = document.getElementById("editHours").value;
    const roomnumber = document.getElementById("editRoom").value;
    //const website = document.getElementById("editWebsite").value;

    
    const fetchString = "/update-Info?name="+name+"&phone="+phone+"&hours"+hours+"&roomnumber"+roomnumber
		const response = await fetch(fetchString)
    const responseText = await response.text()
		document.getElementById("confirm").value = responseText

    Professor.updateOne(query, newValue, (error,professors) => {
        if (error) next(error);
        //req.data = professors;
        next();
    });
	}



</script>





<style>
    body{
  font-family: Arial;
  margin:0;
  padding:0;
  background-color: #fff;
  background-color: #a10d0d;
  text-align: center;
}

.container{
  width:65%;
  margin:auto;
  overflow:hidden;
  text-align: center;
}
.title{
    margin: 50px;
    text-align: center;

}

.button{
  background-color: #141313;
  border: none;
  outline: none;
  color: #fff;
  padding: 15px 15px;
  margin: 10px;
  width: 150px;
  letter-spacing: 1px;
  border-radius: 5px;
  transition-duration: 0.4s;

}
.box{
  width: 400px;
  border: 1px;
  position: absolute;
  transform: translate(-50%,-50%);
  top:50%;
  left: 50%;
  background-color: #ffff;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  align-items: center;


}


.button:hover{
  background-color: #ff1a1a;
  color: white;

}
.diceimg{
  width: 90%;
  display: flex;
  justify-content: space-between;
}
.resultbox{
  text-align: center;
  border: none;
  outline: none;
  background-color: #fff;
  font-size: 30px;

}

</style>

  </body>
</html>